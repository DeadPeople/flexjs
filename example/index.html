<!DOCTYPE html>
<html>
	<head>
		<title>FlexJS Sample</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<!-- flexjs -->
		<script src="../src/flexjs.js"></script>
	</head>
	<body>
		<svg id="tmpl_svg" height="100" style="background: #F4F4F4;" version="1.1" xmlns="http://www.w3.org/2000/svg">
			<g id="tmpl_dialog">
				<rect flexjs-bind-class="!displayName(side) displayName(fill)"  width="300" height="50" fill="#999" />
				<text flexjs-bind-target="name" flexjs-bind-display="displayName" 
				x="10" y="35" font-size="30" font-family="tempus sans itc" stroke="white" stroke-width="2">OMG</text>
			</g>
		</svg>

		<svg id="target_svg" width="100%" height="200" style="background: #FFFFA4;" version="1.1" xmlns="http://www.w3.org/2000/svg">
			<g id="rectIst" transform="translate(0 100)">
				<rect  width="300" height="50" fill="#FFF" />
				<text flexjs-bind-target="name" x="10" y="35" font-size="30" fill="red">HelloWorld</text>
			</g>
		</svg>
	</body>

	<script>
		var svg = document.getElementById("tmpl_dialog");
		var tmpl = flexjs(svg);
		var objs = tmpl.getInstance([{name: "Hello World!", displayName: true}, {name: "Good Day", displayName: false}]);

		var cntr = document.getElementById("target_svg");
		objs.map(function(obj) {
			cntr.appendChild(obj);
		});

		var obj = objs[1];
		/*obj.trans("translate(350,0) scale(1.5)");
		obj.setTrans("scale", "0.5");
		obj.setTrans("rotate", [180, 150, 25]);
		obj.removeTrans("rotate");*/
		obj.move(310, 10);
		obj.scale(1.5, 0.8);
		obj.rotate(3, 150, 25);
		obj.skew(1, 1);

		obj.addClass("abc").removeClass("abc");

		// --------------------------------------------
		var svg2 = document.getElementById("rectIst");
		var tmpl2 = flexjs(svg2);
		//var ist = flexjs(tmpl2).asInstance();
		console.log(tmpl2);
	</script>
	
	<style>
		.side rect {
			stroke: #9999FF;
			stroke-width: 2;
		}
		.fill rect {
			fill: red;
		}

		rect.side {
			stroke: red;
			stroke-width: 2;
		}
		rect.fill {
			fill: #9999FF;
		}
	</style>
</html>