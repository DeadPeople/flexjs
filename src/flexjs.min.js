(function(){flexjs=function(e){function r(e,t){for(var n=0;n<e.length;n+=1)if(t(n,e[n])===!1)break}function i(e,t){return val=t.match(/^\!/)==null?e[t]:!e[t.substr(1)]}function s(e,t){var n=!1;return e==null&&(e=""),r(e.trim().split(/\s+/),function(e,r){if(r==t)return n=!0,!1}),n||(e+=" "+t),e}function o(e,t){return e==null&&(e=""),e.trim().split(/\s+/).filter(function(e){return e!=t}).join(" ")}function u(e,n){if(n==null)n={};else if(Array.isArray(n))return n.map(function(e){return t.getInstance(e)});return e.object=function(t){return t!=null?(n=t,e.update(),e):n},e.objAttr=function(t,r){return r!=null?(n[t]=r,e.update(),e):n[t]},e.update=function(){var t="flexjs-bind-target",u="flexjs-bind-display",a="flexjs-bind-class",f=e.querySelectorAll("["+t+"]");r(f,function(e,r){var i=r.getAttribute(t),s=n[i];s!==undefined&&(r.textContent=s)});var l=e.querySelectorAll("["+u+"]");r(l,function(e,t){var r=t.getAttribute(u),s=i(n,r);t.style.display=s===!1?"none":"block"});var c=e.querySelectorAll("["+a+"]");return r(c,function(e,t){var u=t.getAttribute(a);r(u.split(/\s+/),function(e,r){var u=r.match(/[^\(\) ,]+/g),a=i(n,u[0]),f=u[1],l=t.getAttribute("class");a?t.setAttribute("class",s(l,f)):t.setAttribute("class",o(l,f))})}),e},e.update(),e.find=function(t){var n=[],i=e.querySelectorAll(t);return r(i,function(e,t){n.push(t)}),n},e.addClass=function(t){return e.attr("class",s(e.attr("class"),t))},e.removeClass=function(t){return e.attr("class",o(e.attr("class"),t))},e.attr=function(t,n){return n!=null?(e.setAttribute(t,n),e):e.getAttribute(t)},e.trans=function(t){var n="transform";if(typeof t=="string")return e.attr(n,t);if(typeof t=="object"){var r="";for(var i in t){var s=t[i];typeof s!="function"&&(typeof s=="string"||typeof s=="number"?r+=i+"("+s+") ":Array.isArray(s)&&(r+=i+"("+s.join(",")+") "))}return e.attr(n,r)}var o={},u=e.attr(n);if(u!=null){var a=u.match(/\w+\s*\([^\)]+\)/g);for(var f in a){var l=a[f].match(/[^\(\) ,]+/g);o[l[0]]=l.slice(1)}}return o},e.addTrans=function(t,n){var r=e.trans();return n!=null?r[t]=n:delete r[t],e.trans(r)},e.removeTrans=function(t){return e.addTrans(t,null)},e.move=function(t,n){return n==null&&(n=0),e.addTrans("translate",[t,n])},e.scale=function(t,n){return n==null&&(n=t),e.addTrans("scale",[t,n])},e.rotate=function(t,n,r){var i=[t];return n!=null&&r!=null&&(i=i.concat(n,r)),e.addTrans("rotate",i)},e.skew=function(t,n){return e.addTrans("skewX",t),n!=null&&e.addTrans("skewY",n),e},e.matrix=function(t,n,r,i,s,o){return e.addTrans("matrix",[t,n,r,i,s,o])},e}var t=new Object,n;return typeof e=="string"?n=document.querySelector(e):n=e.cloneNode(!0),t.__element__=n,t.asInstance=function(t){return u(e,t)},t.getInstance=function(e){var t=n.cloneNode(!0);return t.removeAttribute("id"),u(t,e)},t}})()