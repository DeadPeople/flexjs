<h1>Bind Data</h1>
<p class="lead">Now, it's time to bind object to the svg element. Let's rock!</p>







<!----- Bind Text ----->
<h2>Bind Text</h2>
<p>Add <code>flexjs-bind-target</code> attribute to the <code>svg:text</code> element which you want to bind. Set value as the <code>attribute</code> name which mapped to the object. Follw sample bind attribute of <code>name</code></p>

<pre class="html">
<svg version="1.1" xmlns="http://www.w3.org/2000/svg">
	<g id="tmpl">
		<text flexjs-bind-target="name">Hello FlexJS</text>
	</g>
</svg>
</pre>

<p>Prepare object which need to bind on the svg instance. Follw sample object has attribute of <code>name</code> values "I'm FlexJS".</p>
<pre class="js">
var obj = {
	name: "I'm FlexJS"
}
</pre>

<p>call template <code>getInstance</code> function by object as argument.</p>
<pre class="js">
var svg = document.getElementById("tmpl");
var tmpl = flexjs(svg);
var ele = tmpl.getInstance(obj);
</pre>

<p>And append instance to your target svg container.</p>
<div class="bs-example">
	<div class="content">
		<h4>Template:</h4>
		<svg version="1.1" xmlns="http://www.w3.org/2000/svg">
			<g id="tmpl2">
				<text flexjs-bind-target="name">Hello FlexJS</text>
			</g>
		</svg>
		<button id="btn2" class="btn btn-primary">Generate</button>
		<h4>Container:</h4>
		<svg id="cntr2" version="1.1" xmlns="http://www.w3.org/2000/svg">
		</svg>
	</div>
</div>

<script>
$(document).ready(function() {
	$("#btn2").click(function() {
		var node = document.getElementById("tmpl2");
		var tmpl = flexjs(node);
		var cntr = document.getElementById("cntr2");
		cntr.appendChild(tmpl.getInstance({name: "I'm FlexJS"}));
	});
});
</script>




<!----- Bind Display ----->
<h2>Bind Display</h2>
<p>FlexJS also support sub element in the instance display status with object attribute.</p>
<p>Add attribute <code>flexjs-bind-display</code> on the sub <code>element</code>. Set value as the <code>attribute</code> name which mapped to the object. Follw sample bind attribute of <code>next</code>.</p>

<pre class="html">
<svg version="1.1" xmlns="http://www.w3.org/2000/svg">
	<g>
		<polygon flexjs-bind-display="!next" points="30,5 20,15 30,25" />
		<rect width="20" height="10" x="30" y="10"></rect>
		<polygon flexjs-bind-display="next" points="50,5 60,15 50,25" />
	</g>
</svg>
</pre>

<p>Set value as boolean for the object's <code>attribute</code>.</p>
<pre class="js">
var obj = {
	next: true
};
</pre>

<p>Bind it!</p>

<div class="bs-example">
	<div class="content">
		<h4>Template:</h4>
		<svg version="1.1" xmlns="http://www.w3.org/2000/svg">
			<g id="tmpl3" class="row">
				<polygon flexjs-bind-display="!next" points="30,5 20,15 30,25" />
				<rect width="20" height="10" x="30" y="10"></rect>
				<polygon flexjs-bind-display="next" points="50,5 60,15 50,25" />
			</g>
		</svg>
		<button id="btn3_1" class="btn btn-primary">next => true</button>
		<button id="btn3_2" class="btn btn-primary">next => false</button>
		<h4>Container:</h4>
		<svg id="cntr3" version="1.1" xmlns="http://www.w3.org/2000/svg">
		</svg>
	</div>
</div>

<script>
$(document).ready(function() {
	var node = document.getElementById("tmpl3");
	var tmpl = flexjs(node);
	var cntr = document.getElementById("cntr3");
	var obj = {next: true};
	var instance = tmpl.getInstance(obj);
	cntr.appendChild(instance);

	$("#btn3_1").click(function() {
		obj.next = true;
		instance.update();
	});
	$("#btn3_2").click(function() {
		obj.next = false;
		instance.update();
	});
});
</script>

<style>
svg g.row rect,
svg g.row polygon {
	fill: red;
}
</style>




<!----- Bind Class ----->
<h2>Bind Class</h2>
<p>You can also bind <code>class</code> to the <code>element</code>.</p>
<p>Add attribute <code>flexjs-bind-class</code> on the sub <code>element</code>. Set value as the <code>attribute</code> name which mapped to the object. Add bind <code>class</code> after <code>attribute</code> in the parentheses.</p>
<p>Follow example component will contains class <code>side</code> when <code>hasSide</code> is <code>true</code> and contains class <code>fill</code> when <code>fillContent</code> is <code>false</code>.</p>
<pre class="html">
<rect flexjs-bind-class="hasSide(side) !fillContent(fill)" />
</pre>
<pre class="js">
var obj = {
	hasSide: true,
	fillContent: true
};
</pre>

<div class="bs-example">
	<div class="content">
		<svg id="cntr4" version="1.1" xmlns="http://www.w3.org/2000/svg">
			<g>
				<rect x="10" y="10" height="50" width="100" 
				flexjs-bind-class="hasSide(side) !fillContent(fill)" />
			</g>
		</svg>
		<button id="btn4_1" class="btn btn-primary">hasSide = !hasSide</button>
		<button id="btn4_2" class="btn btn-primary">fillContent = !fillContent</button>
	</div>
</div>
<script>
$(document).ready(function() {
	var cntr = document.getElementById("cntr4");
	var element = cntr.querySelector("g");
	var obj = {hasSide: true, fillContent: true};
	var instance = flexjs(element).asInstance(obj);

	$("#btn4_1").click(function() {
		obj.hasSide = !obj.hasSide;
		instance.update();
	});
	$("#btn4_2").click(function() {
		obj.fillContent = !obj.fillContent;
		instance.update();
	});
});
</script>
<style>
#cntr4 {
	height: 70px;
}
#cntr4 rect {
	fill: #AAA;
}
#cntr4 rect.side {
	stroke: #004499;
	stroke-width: 2;
}
#cntr4 rect.fill {
	fill: #AFF;
}
</style>




<div style="height: 1000px;"></div>








































